import { MailerOptions } from '@nestjs-modules/mailer';
import { EjsAdapter } from '@nestjs-modules/mailer/dist/adapters/ejs.adapter';
import { DocumentBuilder } from '@nestjs/swagger';
import { TypeOrmModuleOptions } from '@nestjs/typeorm';

// server conf
export const port = 4000;

// swagger conf
export const tag = {
  core: "核心"
}

export const swaggerconfig = new DocumentBuilder()
  .setTitle('Nest document')
  .setDescription('Generated by Swagger')
  .setVersion('1.0.0')
  .addTag(tag.core)
  .build();


export const mysqlconf: TypeOrmModuleOptions =
{
  type: 'mysql',
  host: '127.0.0.1',
  port: 3306,
  username: '${user}',
  password: '${pass}',
  database: '${database}',
  entities: [__dirname + '/**/entity/*.entity{.ts,.js}'],
  // 生产环境下禁用，不允许修改数据库表结构
  // 测试环境下开启，可以方便的常见表和字段
  synchronize: true,
  timezone: "+08:00",
  charset: "UTF8_GENERAL_CI"
}

export const emailconf: MailerOptions = {
  transport: {
    host: '${host}',
    port: 25,
    ignoreTLS: true,
    secure: false,
    auth: {
      user: '${user}',
      pass: '${pass}',
    },
  },
  defaults: {
    from: '${from}',
  },
  preview: false,
  template: {
    dir: process.cwd() + "/src/email",
    adapter: new EjsAdapter(),
    options: {
      strict: true,
    },
  },
}

export const directories = [
  "Public",
  "Documents",
  "Movies",
  "Pictures",
  "Music",
];
